<!-- templates/index.html -->
{% extends "base.html" %}

{% block title %}Home - Power BI Visuals Explorer{% endblock %}

{% block content %}
    <div class="upload-section">
        <h2>Upload Your Power BI Files</h2>
        <p>Drag and drop your .bim or .json files here, or click to select</p>
        <div class="upload-area" id="upload-area">
            <input type="file" id="file-input" class="file-input" accept=".bim,.json,.tsv" multiple>
            <div class="upload-content">
                <i class="fas fa-cloud-upload-alt"></i>
                <p>Drop files here or click to browse</p>
                <p class="file-types">Supported files: .bim, .json, .tsv</p>
            </div>
            <div class="upload-progress" id="upload-progress">
                <div class="progress-bar"></div>
                <div class="progress-text">0%</div>
            </div>
        </div>
        <div id="upload-status" class="upload-status"></div>
    </div>

    <h1>Welcome to Power BI Visuals Explorer</h1>
    <p>Explore and analyze your Power BI reports with ease.</p>

    <!-- Card Container -->
    <div class="card-container">
        <!-- Card 1: Visual Fields Table -->
        <div class="card">
            <h2>Visual Fields Table</h2>
            <p>Get a comprehensive view of all the fields used across visuals in your report.</p>
            <a href="/table-view" class="button">Explore</a>
        </div>

        <!-- Card 2: Data Lineage Diagram -->
        <div class="card">
            <h2>Data Lineage Diagram</h2>
            <p>Visualize relationships between measures and columns to understand dependencies.</p>
            <a href="/lineage-view" class="button">View Diagram</a>
        </div>

        <!-- Card 3: DAX Explorer -->
        <div class="card">
            <h2>DAX Explorer</h2>
            <p>Browse and analyze DAX formulas with syntax highlighting and copy functionality.</p>
            <a href="/dax-expressions" class="button">Browse DAX</a>
        </div>

        <!-- Card 4: Source Explorer -->
        <div class="card">
            <h2>Source Explorer</h2>
            <p>Examine the M queries that form your report's data sources.</p>
            <a href="/source-explorer" class="button">Explore Sources</a>
        </div>

        <!-- Card 5: Unused Measures -->
        <div class="card">
            <h2>Unused Measures</h2>
            <p>Identify measures not used in any visuals for optimization.</p>
            <a href="/unused-measures" class="button">Find Unused Measures</a>
        </div>
    </div>
{% endblock %}

{% block scripts %}
    <script src="{{ url_for('static', filename='js/upload.js') }}"></script>
{% endblock %}
